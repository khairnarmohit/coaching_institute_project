<%- include("navbar.ejs") %>

    <style>
        /* ===== PAGE LAYOUT ===== */
        .main-content {
            background: #f8fafc;
            min-height: 100vh;
        }

        /* ===== FORM CARD ===== */
        .form-card {
            background: #ffffff;
            border-radius: 14px;
            padding: 22px;
            border: none;
            box-shadow: 0 8px 22px rgba(0, 0, 0, 0.08);
        }

        .section-title {
            font-size: 14px;
            font-weight: 600;
            border-left: 4px solid #0d6efd;
            padding-left: 10px;
            margin: 18px 0 12px;
        }

        label {
            font-size: 12px;
            font-weight: 600;
            color: #444;
        }

        .form-control {
            font-size: 12px;
            border-radius: 8px;
            padding: 6px 10px;
        }

        .btn {
            font-size: 12px;
            border-radius: 20px;
            padding: 4px 16px;
        }

        .hint {
            font-size: 11px;
            color: #6c757d;
        }

        .preview-img {
            width: 60px;
            height: 60px;
            object-fit: cover;
            border-radius: 8px;
            border: 1px solid #ddd;
            margin-top: 8px;
        }
    </style>

    <!-- ================= MAIN CONTENT ================= -->
    
        <div class="container-fluid px-4 mt-3">

            <div class="card form-card">

                <h6 class="mb-3">
                    <i class="fa fa-edit me-2"></i> Edit Founder Information
                </h6>

                <form action="/admin/update_founder/<%= founder.id %>" method="post" enctype="multipart/form-data">

                    <!-- Founder Image -->
                    <div class="mb-2">
                        <label>Founder Image</label>
                        <input type="file" name="founder_image" class="form-control">
                        <input type="hidden" name="old_founder_image" value="<%= founder.founder_image %>">

                        <% if(founder.founder_image){ %>
                            <img src="/images/<%= founder.founder_image %>" class="preview-img">
                            <% } %>
                    </div>

                    <!-- Founder Name -->
                    <div class="mb-2">
                        <label>Founder Name</label>
                        <input type="text" name="founder_name" class="form-control" value="<%= founder.founder_name %>">
                    </div>

                    <!-- Designation -->
                    <div class="mb-2">
                        <label>Designation</label>
                        <input type="text" name="founder_designation" class="form-control"
                            value="<%= founder.founder_designation %>">
                    </div>

                    <!-- Quote -->
                    <div class="section-title">Inspirational Quote</div>
                    <div class="mb-3">
                        <textarea name="quote_text" id="quote_text" rows="3"
                            class="form-control"><%= founder.quote_text %></textarea>
                    </div>

                    <!-- Detailed Message -->
                    <div class="section-title">Founder Detailed Message</div>
                    <div class="mb-3">
                        <textarea name="detailed_message" id="detailed_message" rows="4"
                            class="form-control"><%= founder.detailed_message %></textarea>
                    </div>

                    <!-- Academy Name -->
                    <div class="mb-3">
                        <label>Academy / Signature Line</label>
                        <input type="text" name="academy_name" class="form-control" value="<%= founder.academy_name %>">
                    </div>

                    <!-- ================= LAST FIELDS ================= -->

                    <!-- Journey -->
                    <div class="section-title">Founder Journey</div>
                    <div class="mb-3">
                        <textarea name="journey" id="journey" rows="3"
                            class="form-control"><%= founder.journey %></textarea>
                    </div>

                    <!-- Core Philosophy -->
                    <div class="section-title">Core Philosophy</div>
                    <div class="mb-4">
                        <textarea name="core_philosophy" id="core_philosophy" rows="3"
                            class="form-control"><%= founder.core_philosophy %></textarea>
                        <div class="hint">Use comma ( , ) to add multiple points</div>
                    </div>

                    <!-- Submit -->
                    <div class="text-end">
                        <button class="btn btn-success">
                            <i class="fa fa-save me-1"></i> Update Founder
                        </button>
                        <a href="/admin/founder_information" class="btn btn-outline-secondary ms-2">
                            Cancel
                        </a>
                    </div>

                </form>

            </div>

        </div>
   

    <!-- ================= CKEDITOR ================= -->
    <script src="https://cdn.ckeditor.com/ckeditor5/39.0.1/classic/ckeditor.js"></script>

    <script>
        function initEditor(selector) {
            ClassicEditor
                .create(document.querySelector(selector), {
                    toolbar: [
                        'heading',
                        '|',
                        'bold',
                        'italic',
                        'link',
                        '|',
                        'bulletedList',
                        'numberedList',
                        '|',
                        'undo',
                        'redo'
                    ]
                })
                .catch(error => console.error(error));
        }

        initEditor('#quote_text');
        initEditor('#detailed_message');
        initEditor('#journey');
        initEditor('#core_philosophy');
    </script>

    <%- include("footer.ejs") %>