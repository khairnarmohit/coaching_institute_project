<%- include("navbar.ejs") %>

  <style>
    .edit-course-card {
      border: none;
      border-radius: 16px;
    }

    .edit-course-card .card-header {
      background: linear-gradient(135deg, #1f4037, #99f2c8);
      padding: 12px 20px;
    }

    .edit-course-card label {
      font-size: 12px;
      font-weight: 600;
      color: #333;
      margin-bottom: 3px;
    }

    .edit-course-card .form-control,
    .edit-course-card .form-select {
      font-size: 12px;
      padding: 6px 10px;
      border-radius: 8px;
    }

    .edit-course-card textarea {
      resize: none;
    }

    .edit-course-card .card-body {
      padding: 18px 22px;
      background: #f8f9fb;
    }

    .edit-course-card .btn {
      font-size: 12px;
      padding: 6px 22px;
      border-radius: 20px;
    }

    .preview-img {
      width: 55px;
      height: 55px;
      object-fit: cover;
      border-radius: 8px;
      border: 1px solid #ddd;
      margin-top: 6px;
    }
  </style>

 
    <div class="container-fluid px-4 mt-4">

      <div class="card edit-course-card shadow-sm">
        <div class="card-header text-white">
          <h6 class="mb-0">
            <i class="fa fa-edit me-2"></i> Edit Course
          </h6>
        </div>

        <div class="card-body">

          <form action="/admin/edit_course/<%= course.id %>" method="post" enctype="multipart/form-data">

            <!-- Row 1 -->
            <div class="row g-3">
              <div class="col-md-4">
                <label>Course Key</label>
                <input type="text" name="course_key" class="form-control" value="<%= course.course_key %>">
              </div>

              <div class="col-md-8">
                <label>Course Title</label>
                <input type="text" name="title" class="form-control" value="<%= course.title %>">
              </div>
            </div>

            <!-- Description -->
            <div class="mt-3">
              <label>Description</label>
              <textarea name="shortDesc" rows="2" class="form-control"><%= course.shortDesc %></textarea>
            </div>

            <!-- Row 2 -->
            <div class="row g-3 mt-2">
              <div class="col-md-3">
                <label>Duration</label>
                <input type="text" name="duration" class="form-control" value="<%= course.duration %>">
              </div>

              <div class="row g-2 mt-1">
                <div class="col-md-3">
                  <label>Eligibility</label>
                  <input type="text" name="eligibility" class="form-control" value="<%= course.eligibility %>">
                </div>

                <div class="col-md-3">
                  <label>Features</label>
                  <input type="text" name="features" class="form-control" value="<%= course.features %>">
                </div>

                <div class="col-md-3">
                  <label>Admission Notice</label>
                  <input type="text" name="admission_notice" class="form-control"
                    value="<%= course.admission_notice %>">
                </div>

                <div class="col-md-3">
                  <label>Fee Sturcture</label>
                  <input type="text" name="fees_structure" class="form-control" value="<%= course.fees_structure %>">
                </div>
              </div>

              <div class="col-md-3">
                <label>Category</label>
                <select name="category" class="form-select">
                  <option value="upsc-mpsc" <%=course.category=="upsc-mpsc" ?"selected":"" %>>UPSC</option>
                  <option value="banking" <%=course.category=="banking" ?"selected":"" %>>Banking</option>
                  <option value="police" <%=course.category=="police" ?"selected":"" %>>Police</option>
                </select>
              </div>

              <div class="col-md-3">
                <label>Status</label>
                <select name="status" class="form-select">
                  <option value="1" <%=course.status==1?"selected":"" %>>Active</option>
                  <option value="0" <%=course.status==0?"selected":"" %>>Inactive</option>
                </select>
              </div>

              <div class="col-md-3">
                <label>Course Image</label>
                <input type="file" name="image" class="form-control">
                <input type="hidden" name="old_image" value="<%= course.image %>">
                <% if(course.image){ %>
                  <img src="/images/<%= course.image %>" class="preview-img">
                  <% } %>
              </div>
            </div>

            <!-- Buttons -->
            <div class="mt-4 text-end">
              <button class="btn btn-success">
                <i class="fa fa-save me-1"></i> Update Course
              </button>
              <a href="/admin/courses_list" class="btn btn-outline-secondary ms-2">
                Cancel
              </a>
            </div>

          </form>

        </div>
      </div>

    </div>
 

  <%- include("footer.ejs") %>