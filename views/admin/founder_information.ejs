<%- include("navbar.ejs") %>

<style>
:root {
  --gov-dark: #0b1c2d;
  --gov-accent: #f59e0b;
  --gov-bg: #f8fafc;
  --gov-border: #e5e7eb;
  --gov-shadow: 0 12px 32px -6px rgba(0,0,0,0.08);
  --gov-radius: 18px;
}

body {
  overflow-x: hidden;
  background: var(--gov-bg);
}

/* CARD */
.gov-card {
  background: #fff;
  border: 1px solid var(--gov-border);
  border-radius: var(--gov-radius);
  box-shadow: var(--gov-shadow);
}

/* HEADER */
.gov-header {
  background: var(--gov-dark);
  color: #fff;
  border-radius: var(--gov-radius) var(--gov-radius) 0 0;
}

/* LABEL */
.gov-label {
  font-size: 13px;
  font-weight: 600;
  color: var(--gov-dark);
}

/* INPUT */
.form-control {
  font-size: 13px;
  border-radius: 10px;
  padding: 8px 12px;
}

/* BUTTON */
.gov-btn {
  background: var(--gov-accent);
  color: #000;
  font-weight: 600;
  border-radius: 30px;
  padding: 10px 26px;
  border: none;
}
.gov-btn:hover {
  background: #e89b06;
  color: #000;
}

/* IMAGE PREVIEW */
.preview-box img {
  width: 140px;
  height: 140px;
  object-fit: cover;
  border-radius: 12px;
  border: 1px solid var(--gov-border);
}

/* SECTION TITLE */
.section-title {
  font-size: 14px;
  font-weight: 600;
  color: var(--gov-dark);
  border-left: 4px solid var(--gov-accent);
  padding-left: 10px;
  margin: 22px 0 12px;
}
</style>

<div class="container mt-4 mb-5">

  <div class="gov-card">

    <!-- HEADER -->
    <div class="gov-header px-4 py-3">
      <h5 class="mb-0">
        <i class="fa fa-user-tie me-2"></i> Edit Founder Message
      </h5>
    </div>

    <!-- BODY -->
    <div class="card-body p-4" style="background:var(--gov-bg)">

      <form action="/admin/founder_information_update" method="post" enctype="multipart/form-data">

        <!-- HIDDEN -->
        <input type="hidden" name="id" value="<%= founder ? founder.id : '' %>">
        <input type="hidden" name="old_founder_image" value="<%= founder ? founder.founder_image : '' %>">

        <!-- IMAGE -->
        <div class="row mb-4 align-items-center">
          <div class="col-md-6">
            <label class="gov-label">Founder Image</label>
            <input type="file" name="founder_image" class="form-control">
          </div>

          <div class="col-md-6 text-center preview-box">
            <% if(founder && founder.founder_image){ %>
              <img src="/images/<%= founder.founder_image %>">
            <% } else { %>
              <span class="text-muted">No Image</span>
            <% } %>
          </div>
        </div>

        <!-- NAME / DESIGNATION -->
        <div class="row mb-4">
          <div class="col-md-6">
            <label class="gov-label">Founder Name</label>
            <input type="text" name="founder_name"
                   value="<%= founder ? founder.founder_name : '' %>"
                   class="form-control">
          </div>

          <div class="col-md-6">
            <label class="gov-label">Designation</label>
            <input type="text" name="founder_designation"
                   value="<%= founder ? founder.founder_designation : '' %>"
                   class="form-control">
          </div>
        </div>

        <!-- QUOTE -->
        <div class="section-title">Inspirational Quote</div>
        <div class="mb-4">
          <textarea name="quote_text" id="quote_text" rows="3" class="form-control">
<%- founder ? founder.quote_text : '' %>
          </textarea>
        </div>

        <!-- MESSAGE -->
        <div class="section-title">Founder Detailed Message</div>
        <div class="mb-4">
          <textarea name="detailed_message" rows="4" class="form-control">
<%- founder ? founder.detailed_message : '' %>
          </textarea>
        </div>

        <!-- SIGNATURE -->
        <div class="mb-4">
          <label class="gov-label">Academy / Signature Line</label>
          <input type="text" name="academy_name"
                 value="<%= founder ? founder.academy_name : '' %>"
                 class="form-control">
        </div>

        <!-- JOURNEY -->
        <div class="section-title">Founder Journey</div>
        <div class="mb-4">
          <textarea name="journey" id="journey" rows="3" class="form-control">
<%- founder ? founder.journey : '' %>
          </textarea>
        </div>

        <!-- PHILOSOPHY -->
        <div class="section-title">Core Philosophy</div>
        <div class="mb-4">
          <textarea name="core_philosophy" id="core_philosophy" rows="3" class="form-control">
<%- founder ? founder.core_philosophy : '' %>
          </textarea>
        </div>

        <!-- SUBMIT -->
        <div class="text-end">
          <button class="gov-btn">
            <i class="fa fa-save me-1"></i> Update Founder Message
          </button>
        </div>

      </form>

    </div>
  </div>
</div>

<!-- CKEDITOR -->
<script src="https://cdn.ckeditor.com/ckeditor5/39.0.1/classic/ckeditor.js"></script>
<script>
function initEditor(id){
  ClassicEditor
    .create(document.querySelector(id), {
      toolbar: [
        'heading','|',
        'bold','italic','link',
        'bulletedList','numberedList',
        '|','undo','redo'
      ]
    })
    .catch(err => console.error(err));
}

initEditor('#quote_text');
initEditor('#journey');
initEditor('#core_philosophy');
</script>

<%- include("footer.ejs") %>
