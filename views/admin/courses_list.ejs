<%- include("navbar.ejs") %>

    <style>
        :root {
            --dark: #0b1c2d;
            --accent: #f59e0b;
            --accent-soft: rgba(245, 158, 11, .12);
            --bg: #f6f8fc;
            --border: #e6e9ef;
            --shadow: 0 18px 45px -12px rgba(11, 28, 45, .15);
            --radius: 16px;
            --radius-sm: 10px;
        }

        /* ===== PAGE BG ===== */
        body {
            background: linear-gradient(180deg, #f8fafc, #f1f5f9);
        }

        /* ===== CARD BASE ===== */
        .card {
            border-radius: var(--radius);
            border: none;
            box-shadow: var(--shadow);
        }

        /* ===== FORM CARD ===== */
        .course-card .card-header {
            background: linear-gradient(135deg, var(--dark), #1e293b);
            border-radius: var(--radius) var(--radius) 0 0;
        }

        .course-card .card-body {
            background: #fff;
        }

        /* ===== LABELS ===== */
        .course-card label {
            font-size: 11px;
            font-weight: 700;
            color: #475569;
            text-transform: uppercase;
            letter-spacing: .4px;
        }

        /* ===== INPUTS ===== */
        .course-card .form-control,
        .course-card .form-select {
            font-size: 12px;
            padding: 7px 10px;
            border-radius: var(--radius-sm);
            border: 1px solid var(--border);
            background: #fbfdff;
            transition: .25s;
        }

        .course-card .form-control:focus,
        .course-card .form-select:focus {
            border-color: var(--accent);
            box-shadow: 0 0 0 2px rgba(245, 158, 11, .15);
            background: #fff;
        }

        /* ===== TEXTAREA ===== */
        .course-card textarea {
            resize: none;
        }

        /* ===== BUTTONS ===== */
        .course-card .btn {
            font-size: 12px;
            padding: 6px 20px;
            border-radius: 30px;
            font-weight: 600;
        }

        .btn-success {
            background: linear-gradient(135deg, var(--accent), #fbbf24);
            border: none;
        }

        .btn-success:hover {
            opacity: .9;
        }

        /* ===== TABLE CARD ===== */
        .table-card {
            background: transparent;
        }

        .table-card .card-header {
            background: linear-gradient(135deg, #020617, #0f172a);
            border-radius: var(--radius) var(--radius) 0 0;
        }

        .table-card .card-body {
            background: #fff;
            border-radius: 0 0 var(--radius) var(--radius);
        }

        /* ===== TABLE ===== */
        .table {
            border-collapse: separate;
            border-spacing: 0 6px;
        }

        .table thead th {
            font-size: 11px;
            font-weight: 800;
            background: #f1f5f9;
            color: #334155;
            border: none;
            text-transform: uppercase;
        }

        .table tbody tr {
            background: #fff;
            transition: .25s;
        }

        .table tbody tr:hover {
            transform: scale(1.003);
            box-shadow: 0 8px 18px rgba(0, 0, 0, .08);
        }

        .table td {
            font-size: 12px;
            border: none;
            padding: 10px 12px;
            vertical-align: middle;
        }

        /* ===== IMAGE ===== */
        .table td img {
            width: 44px;
            height: 44px;
            object-fit: cover;
            border-radius: 10px;
            border: 1px solid var(--border);
        }

        /* ===== STATUS ===== */
        .status-badge {
            font-size: 10px;
            font-weight: 700;
            padding: 5px 10px;
            border-radius: 20px;
            letter-spacing: .4px;
        }

        /* ===== ACTION BUTTONS ===== */
        .table .btn {
            border-radius: 10px;
            padding: 4px 8px;
        }

        /* ===== EMPTY ROW ===== */
        .table tbody tr td[colspan] {
            background: #f8fafc;
            border-radius: 12px;
        }

        /* ===== RESPONSIVE ===== */
        @media(max-width:768px) {
            .course-card .card-body {
                padding: 12px;
            }

            .table td {
                white-space: nowrap;
            }
        }
    </style>




    <div class="container p-0 m-0 mt-3">

        <!-- ================= FORM CARD ================= -->
        <div class="card course-card shadow-sm">
            <div class="card-header text-white">
                <h6 class="mb-0">
                    <i class="fa fa-book-open me-2"></i> Add Course
                </h6>
            </div>

            <div class="card-body">
                <div class="container-fluid p-0">
                    <form action="/admin/add-course" method="post" enctype="multipart/form-data">

                        <div class="row g-2">
                            <div class="col-md-4">
                                <label>Course Key</label>
                                <input type="text" name="course_key" class="form-control">
                            </div>

                            <div class="col-md-8">
                                <label>Course Title</label>
                                <input type="text" name="title" class="form-control">
                            </div>
                        </div>

                        <div class="mt-2">
                            <label>Description</label>
                            <textarea name="shortDesc" rows="2" class="form-control"></textarea>
                        </div>

                        <div class="row g-2 mt-1">
                            <div class="col-lg-3 col-md-6 col-12">
                                <label>Duration</label>
                                <input type="text" name="duration" class="form-control">
                            </div>

                            <div class="col-lg-3 col-md-6 col-12">
                                <label>Category</label>
                                <select name="category" class="form-select">
                                    <option value="">Select</option>
                                    <option value="upsc-mpsc">UPSC</option>
                                    <option value="banking">Banking</option>
                                    <option value="police">Police</option>
                                    <option value="talathi">Talathi</option>
                                    <option value="railway">Railway</option>
                                    <option value="ssc">SSC</option>
                                </select>
                            </div>

                            <div class="col-lg-3 col-md-6 col-12">
                                <label>Status</label>
                                <select name="status" class="form-select">
                                    <option value="1">Active</option>
                                    <option value="0">Inactive</option>
                                </select>
                            </div>

                            <div class="col-lg-3 col-md-6 col-12">
                                <label>Image</label>
                                <input type="file" name="image" class="form-control">
                            </div>
                        </div>

                        <div class="row g-2 mt-1">
                            <div class="col-lg-3 col-md-6 col-12">
                                <label>Eligibility</label>
                                <input type="text" name="eligibility" class="form-control">
                            </div>

                            <div class="col-lg-3 col-md-6 col-12">
                                <label>Features</label>
                                <input type="text" name="features" class="form-control">
                            </div>

                            <div class="col-lg-3 col-md-6 col-12">
                                <label>Admission Notice</label>
                                <input type="text" name="admission_notice" class="form-control">
                            </div>

                            <div class="col-lg-3 col-md-6 col-12">
                                <label>Fee Sturcture</label>
                                <input type="text" name="fees_structure" class="form-control">
                            </div>
                        </div>

                        <div class="mt-3 text-end">
                            <button class="btn btn-success">
                                <i class="fa fa-save me-1"></i> Save
                            </button>
                            <button type="reset" class="btn btn-outline-secondary ms-2">
                                Clear
                            </button>
                        </div>

                    </form>
                </div>

            </div>
        </div>

        <!-- ================= TABLE CARD ================= -->
        <div class="card table-card shadow-sm mt-4">
            <div class="card-header bg-dark text-white">
                <h6 class="mb-0">
                    <i class="fa fa-list me-2"></i> Course List
                </h6>
            </div>

            <div class="card-body p-2">
                <div class="table-responsive">
                    <table class="table table-sm table-hover align-middle mb-0">
                        <thead>
                            <tr>
                                <th>No</th>
                                <th>Course</th>
                                <th>Category</th>
                                <th>Duration</th>
                                <th>Eligibility</th>
                                <th>Features</th>
                                <th>Admission Notice</th>

                                <th>Fee Sturcture</th>
                                <th>Image</th>

                                <th>Status</th>
                                <th class="text-center">Action</th>
                            </tr>
                        </thead>

                        <tbody>
                            <% if(courses && courses.length> 0){ %>
                                <% courses.forEach((c,i)=>{ %>
                                    <tr>
                                        <td>
                                            <%= i+1 %>
                                        </td>
                                        <td>
                                            <strong>
                                                <%= c.title %>
                                            </strong><br>
                                            <small class="text-muted">
                                                <%= c.course_key %>
                                            </small>
                                        </td>
                                        <td>
                                            <%= c.category %>
                                        </td>
                                        <td>
                                            <%= c.duration %>
                                        </td>
                                        <td>
                                            <%= c.eligibility %>
                                        </td>
                                        <td>
                                            <%= c.features %>
                                        </td>
                                        <td>
                                            <%= c.admission_notice %>
                                        </td>
                                        <td>
                                            <%= c.fees_structure %>

                                        </td>
                                        <td>
                                            <img src="/images/<%= c.image %>">
                                        </td>
                                        <td>
                                            <% if(c.status==1){ %>
                                                <span class="badge bg-success status-badge">Active</span>
                                                <% } else { %>
                                                    <span class="badge bg-danger status-badge">Inactive</span>
                                                    <% } %>
                                        </td>

                                        <td class="text-center">
                                            <a href="/admin/edit_course/<%= c.id %>"
                                                class="btn btn-sm btn-outline-primary">
                                                <i class="fa fa-edit"></i>
                                            </a>
                                            <a href="/admin/delete_course/<%= c.id %>"
                                                onclick="return confirm('Delete this course?')"
                                                class="btn btn-sm btn-outline-danger ms-1">
                                                <i class="fa fa-trash"></i>
                                            </a>
                                        </td>
                                    </tr>
                                    <% }) %>
                                        <% } else { %>
                                            <tr>
                                                <td colspan="11" class="text-center text-muted py-3">
                                                    No courses found
                                                </td>
                                            </tr>

                                            <% } %>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

    </div>

    <%- include("footer.ejs") %>