<%- include("navbar.ejs") %>

    <style>
        .main-content {
            background: #f8fafc;
            min-height: 100vh;
        }

        .form-card {
            background: #ffffff;
            border-radius: 14px;
            padding: 22px;
            border: none;
            box-shadow: 0 8px 22px rgba(0, 0, 0, 0.08);
        }

        .section-title {
            font-size: 14px;
            font-weight: 600;
            border-left: 4px solid #0d6efd;
            padding-left: 10px;
            margin: 18px 0 12px;
        }

        label {
            font-size: 12px;
            font-weight: 600;
            color: #444;
        }

        .form-control {
            font-size: 12px;
            border-radius: 8px;
            padding: 6px 10px;
        }

        .btn {
            font-size: 12px;
            border-radius: 20px;
            padding: 4px 16px;
        }

        .table td img {
            width: 42px;
            height: 42px;
            object-fit: cover;
            border-radius: 8px;
            border: 1px solid #ddd;
        }
    </style>

    
        <div class="container-fluid px-4 mt-3">

            <!-- ================= FORM CARD ================= -->
            <div class="card form-card">
                <h6 class="mb-3">
                    <i class="fa fa-user-tie me-2"></i> Founder Message Information
                </h6>

                <form method="post" action="/admin/founder_information" enctype="multipart/form-data">

                    <!-- Founder Image -->
                    <div class="mb-2">
                        <label>Founder Image</label>
                        <input type="file" name="founder_image" class="form-control">
                    </div>

                    <!-- Founder Name -->
                    <div class="mb-2">
                        <label>Founder Name</label>
                        <input type="text" name="founder_name" class="form-control" placeholder="Hon. Rajendra Singh">
                    </div>

                    <!-- Designation -->
                    <div class="mb-2">
                        <label>Designation</label>
                        <input type="text" name="founder_designation" class="form-control" placeholder="IPS (Retd.)">
                    </div>

                    <!-- Quote -->
                    <div class="section-title">Inspirational Quote</div>
                    <div class="mb-2">
                        <textarea name="quote_text" id="quote_text" rows="3" class="form-control"
                            placeholder="At EduInstitute, we don't just teach subjects..."></textarea>
                    </div>

                    <!-- Detailed Message -->
                    <div class="section-title">Founder Detailed Message</div>
                    <div class="mb-3">
                        <textarea name="detailed_message" rows="4" class="form-control"
                            placeholder="We are committed to creating a responsible and ethical administrative workforce..."></textarea>
                    </div>

                    <!-- Academy Name -->
                    <div class="mb-3">
                        <label>Academy / Signature Line</label>
                        <input type="text" name="academy_name" class="form-control"
                            placeholder="Founder, EduInstitute Academy">
                    </div>

                    <!-- Journey -->
                    <div class="section-title">Founder Journey</div>
                    <div class="mb-3">
                        <textarea name="journey" id="journey" rows="3" class="form-control"
                            placeholder="Brief journey of the founder..."></textarea>
                    </div>

                    <!-- Core Philosophy -->
                    <div class="section-title">Core Philosophy</div>
                    <div class="mb-3">
                        <textarea name="core_philosophy" id="core_philosophy" rows="3" class="form-control"
                            placeholder="Integrity, Discipline, Nation First, Ethical Leadership"></textarea>
                        <small class="text-muted">Use comma ( , ) to add multiple points</small>
                    </div>

                    <!-- Submit -->
                    <div class="text-end">
                        <button class="btn btn-success">
                            <i class="fa fa-save me-1"></i> Save Founder Message
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- ================= TABLE CARD ================= -->
        <div class="card table-card shadow-sm mt-4 mx-4">
            <div class="card-header bg-dark text-white">
                <h6 class="mb-0">
                    <i class="fa fa-list me-2"></i> Founder Message List
                </h6>
            </div>

            <div class="card-body p-2">
                <div class="table-responsive">
                    <table class="table table-sm table-hover align-middle mb-0">
                        <thead>
                            <tr>
                                <th>No</th>
                                <th>Image</th>
                                <th>Name</th>
                                <th>Designation</th>
                                <th>Quote</th>
                                <th>Message</th>
                                <th>Academy</th>
                                <th>Journey</th>
                                <th>Core Philosophy</th>
                                <th class="text-center">Action</th>
                            </tr>
                        </thead>

                        <tbody>
                            <% if(founderData && founderData.length> 0){ %>
                                <% founderData.forEach((f,i)=>{ %>
                                    <tr>
                                        <td>
                                            <%= i+1 %>
                                        </td>

                                        <td>
                                            <% if(f.founder_image){ %>
                                                <img src="/images/<%= f.founder_image %>">
                                                <% } else { %>
                                                    <span class="text-muted">No Image</span>
                                                    <% } %>
                                        </td>

                                        <td>
                                            <%= f.founder_name %>
                                        </td>
                                        <td>
                                            <%= f.founder_designation %>
                                        </td>

                                        <td style="max-width:200px"><%- f.quote_text %></td>

                                        <td style="max-width:260px">
                                            <div style="max-height:80px; overflow:auto;">
                                                <%- f.detailed_message %>
                                            </div>
                                        </td>

                                        <td>
                                            <%= f.academy_name %>
                                        </td>

                                        <td style="max-width:220px">
                                            <div style="max-height:80px; overflow:auto;">
                                                <%- f.journey %>
                                            </div>
                                        </td>

                                        <td style="max-width:220px">
                                            <%- f.core_philosophy %>
                                        </td>

                                        <td class="text-center">
                                            <a href="/admin/edit_founder/<%= f.id %>"
                                                class="btn btn-sm btn-outline-primary">
                                                <i class="fa fa-edit"></i>
                                            </a>
                                            <a href="/admin/delete_founder/<%= f.id %>"
                                                onclick="return confirm('Delete this record?')"
                                                class="btn btn-sm btn-outline-danger ms-1">
                                                <i class="fa fa-trash"></i>
                                            </a>
                                        </td>
                                    </tr>
                                    <% }) %>
                                        <% } else { %>
                                            <tr>
                                                <td colspan="10" class="text-center text-muted py-3">
                                                    No founder message found
                                                </td>
                                            </tr>
                                            <% } %>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>


    <!-- ================= CKEDITOR ================= -->
    <script src="https://cdn.ckeditor.com/ckeditor5/39.0.1/classic/ckeditor.js"></script>

    <script>
        function initEditor(id) {
            ClassicEditor
                .create(document.querySelector(id), {
                    toolbar: [
                        'heading',
                        '|',
                        'bold',
                        'italic',
                        'link',
                        '|',
                        'bulletedList',
                        'numberedList',
                        '|',
                        'undo',
                        'redo'
                    ]
                })
                .catch(error => console.error(error));
        }

        initEditor('#quote_text');
        initEditor('#journey');
        initEditor('#core_philosophy');
    </script>

    <%- include("footer.ejs") %>